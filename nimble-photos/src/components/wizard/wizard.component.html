<div class="flex-1 flex flex-col min-h-0">
    <div class="relative overflow-hidden border-b border-white/5 bg-slate-950/70">
        <div class="absolute -top-16 -right-20 h-56 w-56 rounded-full bg-indigo-600/15 blur-[90px]"></div>
        <div class="absolute -bottom-24 left-10 h-72 w-72 rounded-full bg-sky-500/10 blur-[120px]"></div>

        <div class="relative z-10 mx-auto flex w-full max-w-6xl flex-col gap-6 px-6 py-10 md:px-10">
            <div>
                <p class="text-xs uppercase tracking-[0.3em] text-slate-500">Setup</p>
                <h1 class="mt-2 text-3xl font-semibold text-white md:text-4xl">Configure Nimble Photos</h1>
                <p class="mt-3 max-w-3xl text-sm text-slate-400">
                    Configure your Nimble Photos installation by following the steps below. You can always change these
                    settings later in the app settings.
                </p>
            </div>

            <div class="flex flex-wrap items-center gap-3">
                @for (step of steps(); track step.path; let index = $index) {
                <button type="button" (click)="goTo(step.path)"
                    class="flex items-center gap-2 rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-wider transition-all"
                    [class.border-indigo-400]="step.path === activePath()"
                    [class.text-indigo-200]="step.path === activePath()"
                    [class.bg-indigo-500/10]="step.path === activePath()"
                    [class.border-white/10]="step.path !== activePath()"
                    [class.text-slate-400]="step.path !== activePath()"
                    [class.hover:text-white]="step.path !== activePath()">
                    <span class="flex h-6 w-6 items-center justify-center rounded-full"
                        [class.bg-indigo-500]="step.path === activePath()"
                        [class.bg-slate-800]="step.path !== activePath()">
                        <span class="text-[11px] font-bold text-white">{{ index + 1 }}</span>
                    </span>
                    <span>{{ step.title }}</span>
                </button>
                }
            </div>

            <div class="h-1 w-full overflow-hidden rounded-full bg-white/5">
                <div class="h-full rounded-full bg-linear-to-r from-indigo-500 via-sky-500 to-cyan-400 transition-all"
                    [style.width.%]="progress()"></div>
            </div>
        </div>
    </div>

    <div class="flex-1 overflow-y-auto px-6 py-10 md:px-10">
        <div class="mx-auto flex w-full max-w-5xl flex-col gap-10">
            <div class="rounded-2xl border border-white/5 bg-slate-900/60 p-8 shadow-2xl shadow-black/40">
                <router-outlet></router-outlet>
            </div>

            <div class="flex flex-wrap items-center justify-between gap-3">
                <div class="text-xs text-slate-500">
                    Step {{ activeIndex() + 1 }} of {{ steps().length }}
                </div>

                <div class="flex items-center gap-3">
                    <button type="button" (click)="goBack()" [disabled]="activeIndex() === 0"
                        class="h-11 rounded-full border border-white/10 px-6 text-xs font-semibold uppercase tracking-wider text-slate-400 transition-all hover:border-white/30 hover:text-white disabled:cursor-not-allowed disabled:opacity-40">
                        Back
                    </button>
                    <button type="button" (click)="goNext()" [disabled]="steps().length === 0"
                        class="h-11 rounded-full bg-linear-to-r from-indigo-500 to-sky-500 px-6 text-xs font-semibold uppercase tracking-wider text-white shadow-lg shadow-indigo-500/20 transition-all hover:from-indigo-400 hover:to-sky-400 disabled:cursor-not-allowed disabled:opacity-40">
                        @if (isLastStep()) {
                        Finish
                        } @else {
                        Next
                        }
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
